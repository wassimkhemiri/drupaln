!function(e,t,a){var i=e.behaviors,r=[];function s(e){r[e]||(r[e]=Drupal.debounce((function(){var t=new Event("image:size-check",{bubbles:!1,cancelable:!0});e.dispatchEvent(t),console.info("dispatch for",e)}),5e3)),r[e]()}function n(e,t,a,i){e.src=t,e.setAttribute("width",a),e.setAttribute("height",i),e.classList.remove("pre-load"),e.classList.remove("loading"),e.classList.add("fade-in-on-load"),s(e)}function l(e){if(function(e){return!(!e.classList.contains("load-always")&&!e.classList.contains("is-visible"))}(e)){var i,r=parseFloat(getComputedStyle(e.parentNode,null).width.replace("px")),s=(i=e,JSON.parse(i.getAttribute("data-src"))),l=!1,o=Object.keys(s).filter((function(e){if(e>=r)return e}));if(o.length>0&&(l=s[o[0]]),0==l&&(l=e.getAttribute("data-src-fallback")),l!==e.src){if(a.has(l)){var c=a.get(l);return void n(e,l,c.width,c.height)}if(t.has(l))return t.get(l).push(e),void e.classList.add("loading");t.set(l,[e]);var d=new Image;e.classList.add("loading"),d.addEventListener("load",(function(){for(var e=t.get(this.src),i=0;i<e.length;i++)n(e[i],this.src,d.naturalWidth,d.naturalHeight),a.set(this.src,{width:d.naturalWidth,height:d.naturalHeight})})),d.src=l}}}i.imageSizesBehavior={attach:function(e){for(var t=Array.prototype.slice.call(e.querySelectorAll("img.image-sizes")),a=t.filter((function(e){return!e.classList.contains("load-always")})),i=t.filter((function(e){return e.classList.contains("load-always")})),r=new ResizeObserver((function(e){for(var t=0;t<e.length;t++)for(var a=Array.prototype.slice.call(e[t].target.querySelectorAll("img.image-sizes")),i=0;i<a.length;i++)s(a[i])})),n=0;n<t.length;n++)t[n].addEventListener("image:size-check",(function(){l(this)})),r.observe(t[n].parentNode);for(var o=new IntersectionObserver((function(e,t){for(var a=0;a<e.length;a++){var i=e[a];i.isIntersecting&&(i.target.classList.add("is-visible"),t.unobserve(i.target),s(i.target),r.observe(i.target.parentNode))}})),c=0;c<a.length;c++)o.observe(a[c]);for(var d=0;d<i.length;d++)s(i[d])}}}(Drupal,new Map,new Map);