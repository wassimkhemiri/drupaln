!function(e,t,a){function i(e){var t=new Event("image:size-check",{bubbles:!1,cancelable:!0});e.dispatchEvent(t)}function r(e,t,a,r){e.src=t,e.setAttribute("width",a),e.setAttribute("height",r),e.classList.remove("pre-load"),e.classList.remove("loading"),e.classList.add("fade-in-on-load"),i(e)}function s(e){if(function(e){return!(!e.classList.contains("load-always")&&!e.classList.contains("is-visible"))}(e)){var i,s=parseFloat(getComputedStyle(e.parentNode,null).width.replace("px")),n=(i=e,JSON.parse(i.getAttribute("data-src"))),l=!1,o=Object.keys(n).filter((function(e){if(e>=s)return e}));if(o.length>0&&(l=n[o[0]]),0==l&&(l=e.getAttribute("data-src-fallback")),l!==e.src){if(a.has(l)){var c=a.get(l);return void r(e,l,c.width,c.height)}if(t.has(l))return t.get(l).push(e),void e.classList.add("loading");t.set(l,[e]);var d=new Image;e.classList.add("loading"),d.addEventListener("load",(function(){for(var e=t.get(this.src),i=0;i<e.length;i++)r(e[i],this.src,d.naturalWidth,d.naturalHeight),a.set(this.src,{width:d.naturalWidth,height:d.naturalHeight})})),d.src=l}}}e.behaviors.imageSizesBehavior={attach:function(e){for(var t=Array.prototype.slice.call(e.querySelectorAll("img.image-sizes")),a=t.filter((function(e){return!e.classList.contains("load-always")})),r=t.filter((function(e){return e.classList.contains("load-always")})),n=new ResizeObserver((function(e){for(var t=0;t<e.length;t++)for(var a=Array.prototype.slice.call(e[t].target.querySelectorAll("img.image-sizes")),r=0;r<a.length;r++)i(a[r])})),l=0;l<t.length;l++)t[l].addEventListener("image:size-check",(function(){s(this)})),n.observe(t[l].parentNode);for(var o=new IntersectionObserver((function(e,t){for(var a=0;a<e.length;a++){var r=e[a];r.isIntersecting&&(r.target.classList.add("is-visible"),t.unobserve(r.target),i(r.target),n.observe(r.target.parentNode))}})),c=0;c<a.length;c++)o.observe(a[c]);for(var d=0;d<r.length;d++)i(r[d])}}}(Drupal,new Map,new Map);